<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Velas Shopping</title>
    <link rel="shortcut icon" href="./images/iconoPágina.jpg" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>
<body>
    <header>
        <h1>Velas Shopping</h1>
        <nav>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="productos.html">Productos</a></li>
                <li><a href="contacto.html">Contacto</a></li>
            </ul>
        </nav>
        <div class="social-links">
            <a href="#" class="fa fa-instagram"></a>
            <a href="#" class="fa fa-facebook"></a>
            <a href="#" class="fa fa-twitter"></a>
        </div>
    </header>
    <main>
        <form class="form" id="registrationForm">
            <div>
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" required>
            </div>
            <div>
                <label for="apellido1">1er Apellido:</label>
                <input type="text" id="apellido1" required>
            </div>
            <div>
                <label for="apellidos2">2º Apellido:</label>
                <input type="text" id="apellidos2">
            </div>
            <div>
                <label for="email">Email:</label>
                <input type="email" id="email" required>
            </div>
            <div>
                <label for="password">Contraseña:</label>
                <input type="password" id="password" required>
            </div>
            <div>
                <label for="telefono">Teléfono:</label>
                <input type="text" id="telefono" required>
            </div>
            <button type="submit">Registrarse</button>
        </form>

        <form class="form">
            <a href="login.html" class="aForm">¿Ya tienes cuenta? Inicia Sesión</a>
        </form>
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; 2024 Tienda de Velas. Todos los derechos reservados.</p>
            <nav>
                <ul>
                    <li><a href="terminos.html">Términos y Condiciones</a></li>
                    <li><a href="politica.html">Política de Privacidad</a></li>
                    <li><a href="faq.html">FAQ</a></li>
                    <li><a href="sobre-nosotros.html">Sobre Nosotros</a></li>
                </ul>
            </nav>
            <p>Contacto: <span><a href="mailto:tusvelasshopping@gmail.com">tusvelasshopping@gmail.com</a> </span></p>
        </div>
    </footer>
</body>

<script>
    document.getElementById('registrationForm').addEventListener('submit', async (event) => {
        event.preventDefault(); // Evita que el formulario se envíe de la manera tradicional
    
        const nombre = document.getElementById('nombre').value;
        const apellido1 = document.getElementById('apellido1').value;
        const apellidos2 = document.getElementById('apellidos2').value;
        const email = document.getElementById('email').value;
        const contraseña = document.getElementById('password').value; // Considera hacer un hash de esta contraseña
        const telefono = document.getElementById('telefono').value;
    
        try {
            const response = await fetch('https://velas-shopping.vercel.app/api/register', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ nombre, apellido1, apellidos2, email, contraseña, telefono }),
            });
    
            if (response.ok) {
                alert('Cliente registrado con éxito');
                // Aquí puedes redirigir al usuario o limpiar el formulario
            } else {
                alert('Error al registrar el cliente');
            }
        } catch (error) {
            console.error('Error:', error);
            alert('Hubo un problema con el registro');
        }
    });
    </script>
</html>